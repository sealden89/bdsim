execute_process(COMMAND ${CMAKE_COMMAND} -E copy_directory ${CMAKE_CURRENT_SOURCE_DIR} ${CMAKE_CURRENT_BINARY_DIR})

simple_testing(bunch-userfile                  "--file=userfile.gmad"                  "")
simple_testing(bunch-userfile-assumed-particle "--file=userfile-assumed-particle.gmad" "")
simple_testing(bunch-userfile-below-rest-mass  "--file=userfile-below-rest-mass.gmad"  "")
simple_testing(bunch-userfile-blank-lines      "--file=userfile-blank-lines.gmad"      "")
simple_testing(bunch-userfile-comment-line     "--file=userfile-comment.gmad"          "")
simple_testing(bunch-userfile-incomplete-row   "--file=userfile-incomplete-row.gmad"   "")
simple_testing(bunch-userfile-one-column       "--file=userfile-one-column.gmad"       "")
simple_testing(bunch-userfile-neutral-particle "--file=userfile-neutral.gmad"          "")
simple_testing(bunch-userfile-placet           "--file=userfile-placet.gmad"           "")
simple_testing(bunch-userfile-recreate         "--file=userfile-recreate.gmad"         "")
simple_testing(bunch-userfile-unknown-particle "--file=userfile-unknown-particle.gmad" "")
simple_testing(bunch-userfile-ek               "--file=userfile-ek.gmad"               "")
simple_testing(bunch-userfile-s                "--file=userfile-s.gmad"                "")
simple_testing(bunch-userfile-p                "--file=userfile-p.gmad"                "")
simple_testing(bunch-userfile-all-columns      "--file=userfile-all-columns.gmad"      "")
simple_testing(bunch-userfile-xp0-yp0          "--file=userfile-xp0yp0.gmad"           "")

if (USE_GZSTREAM)
  simple_testing(bunch-userfile-gz "--file=userfile-gz.gmad" "")
else()
  simple_fail(bunch-userfile-gz    "--file=userfile-gz.gmad" "")
endif()
